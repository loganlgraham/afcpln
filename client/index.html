<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AFC Private Listing Network</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="hero">
      <div class="hero__content">
        <h1>Private Listing Network</h1>
        <p>Connect listing agents with motivated buyers in the AFC &amp; AHA communities.</p>
      </div>
      <div class="hero__actions">
        <div class="hero__action-buttons" id="hero-action-buttons">
          <button
            type="button"
            id="saved-search-toggle"
            class="hero__icon-button"
            data-icon="bookmark"
            aria-label="Saved searches"
            hidden
          >
            <span class="hero__icon" aria-hidden="true"></span>
          </button>
          <button
            type="button"
            id="message-center-toggle"
            class="hero__icon-button"
            data-icon="messages"
            aria-label="Messages"
            aria-haspopup="dialog"
            aria-expanded="false"
            hidden
          >
            <span class="hero__icon" aria-hidden="true"></span>
          </button>
          <button
            type="button"
            id="logout-toggle"
            class="hero__icon-button"
            data-icon="logout"
            aria-label="Log out"
            hidden
          >
            <span class="hero__icon" aria-hidden="true"></span>
          </button>
        </div>
        <div id="user-status" class="hero__status"></div>
      </div>
    </header>

    <div id="auth-modal" class="auth-modal" role="dialog" aria-modal="true" aria-labelledby="auth-modal-title">
      <section class="card auth-card" id="auth-section">
        <h2 id="auth-modal-title">Access the Network</h2>
        <div class="tabs" role="tablist">
          <button class="tab active" data-tab="login" role="tab">Login</button>
          <button class="tab" data-tab="register" role="tab">Register</button>
        </div>
        <div class="tab-content active" id="login" role="tabpanel">
          <form id="login-form" class="form">
            <label>
              Email
              <input type="email" name="email" required />
            </label>
            <label>
              Password
              <input type="password" name="password" required />
            </label>
            <button type="submit" class="btn primary">Login</button>
          </form>
        </div>
        <div class="tab-content" id="register" role="tabpanel">
          <form id="register-form" class="form">
            <label>
              Full Name
              <input type="text" name="fullName" required />
            </label>
            <label>
              Email
              <input type="email" name="email" required />
            </label>
            <label>
              Password
              <input type="password" name="password" required minlength="8" />
            </label>
            <label>
              Role
              <select name="role">
                <option value="user">Buyer / Investor</option>
                <option value="agent">Listing Agent</option>
              </select>
            </label>
            <label class="optional" data-role="agent">
              Brokerage / Company (agents only)
              <input type="text" name="company" placeholder="AFC Realty" />
            </label>
            <button type="submit" class="btn primary">Create Account</button>
          </form>
        </div>
      </section>
    </div>

    <main id="app-shell" class="dashboard" hidden>
      <div class="dashboard__grid">
        <div class="dashboard__primary">
          <section class="card card--listings" id="listing-results" hidden>
            <div class="card__heading">
              <h2>Find Private Listings</h2>
              <p class="card__helper">
                Prefer a full-page view? <a class="card__link" href="listings.html">Browse all listings</a>.
              </p>
            </div>
            <div class="card__body card__body--stacked">
              <section class="form-section form-section--results">
                <div class="form-section__header">
                  <h3>Matching Listings</h3>
                  <p class="form-section__description">
                    Properties that meet your filters will appear here. Tap a card to contact the listing agent.
                  </p>
                </div>
                <div class="listing-results__grid">
                  <div id="listings" class="listing-grid" aria-live="polite"></div>
                </div>
              </section>
              <form id="filters" class="form form--search" aria-labelledby="listing-search-heading">
                <section class="form-section form-section--intro" id="listing-search">
                  <div class="form-section__header">
                    <h3 id="listing-search-heading">Refine Your Search</h3>
                    <p class="form-section__description">
                      Adjust the filters to surface the right private listings.
                    </p>
                  </div>
                </section>
                <section class="form-section">
                  <h3>Location Focus</h3>
                  <div class="form-grid">
                    <label>Area
                      <input type="text" name="area" placeholder="North Loop" />
                    </label>
                    <label>City
                      <input type="text" name="city" placeholder="Minneapolis" />
                    </label>
                    <label>State
                      <input type="text" name="state" placeholder="MN" maxlength="2" />
                    </label>
                  </div>
                </section>
                <section class="form-section">
                  <h3>Budget</h3>
                  <div class="form-grid">
                    <label>Min Price
                      <input type="number" name="minPrice" min="0" step="1000" />
                    </label>
                    <label>Max Price
                      <input type="number" name="maxPrice" min="0" step="1000" />
                    </label>
                  </div>
                </section>
                <section class="form-section">
                  <h3>Property Details</h3>
                  <div class="form-grid">
                    <label>Bedrooms
                      <input type="number" name="minBedrooms" min="0" />
                    </label>
                    <label>Bathrooms
                      <input type="number" name="minBathrooms" min="0" step="0.5" />
                    </label>
                  </div>
                </section>
                <div class="form-actions">
                  <button type="submit" class="btn primary">Apply Filters</button>
                </div>
              </form>
            </div>
          </section>

          <section class="card" id="buyer-messages" hidden>
            <h2>Your Conversations</h2>
            <p class="card__intro">
              Messages with listing agents will appear here after you reach out about a property.
            </p>
            <div id="buyer-messages-list" class="conversation-list conversation-list--summary" aria-live="polite"></div>
          </section>
        </div>
      </div>

      <section class="card" id="agent-tools" hidden>
        <h2>List a Property</h2>
        <form id="listing-form" class="form">
          <div class="form-section">
            <h3>Listing Essentials</h3>
            <div class="form-grid">
              <label>Title
                <input type="text" name="title" placeholder="Modern Downtown Condo" required />
              </label>
              <label>Area / Neighborhood
                <input type="text" name="area" placeholder="North Loop" required />
              </label>
            </div>
            <div class="form-grid">
              <label>Price
                <input type="number" name="price" min="0" step="1000" required />
              </label>
              <label>Bedrooms
                <input type="number" name="bedrooms" min="0" required />
              </label>
              <label>Bathrooms
                <input type="number" name="bathrooms" min="0" step="0.5" required />
              </label>
              <label>Square Feet
                <input type="number" name="squareFeet" min="0" step="50" />
              </label>
            </div>
            <label>Description
              <textarea name="description" rows="4" placeholder="Highlight the best features and nearby amenities." required></textarea>
            </label>
            <label class="file-input">Property Photos
              <input type="file" name="photos" accept="image/*" multiple />
              <span class="form-hint">Upload a few images to help buyers preview the space.</span>
              <div id="listing-photo-previews" class="photo-previews" hidden aria-live="polite"></div>
            </label>
          </div>
          <div class="form-section">
            <h3>Property Address</h3>
            <div class="form-grid">
              <label>Street
                <input type="text" name="street" required />
              </label>
              <label>City
                <input type="text" name="city" required />
              </label>
              <label>State
                <input type="text" name="state" required maxlength="2" />
              </label>
              <label>Postal Code
                <input type="text" name="postalCode" required />
              </label>
            </div>
          </div>
          <div class="form-section">
            <h3>Buyer Highlights</h3>
            <label>Features (comma separated)
              <input type="text" name="features" placeholder="Heated garage, rooftop deck" />
            </label>
          </div>
          <div class="form-actions">
            <button type="submit" id="listing-submit" class="btn primary">Publish Listing</button>
            <button type="button" id="listing-cancel" class="btn" hidden>Cancel</button>
          </div>
        </form>
        <div class="form-section" id="agent-listings-section">
          <h3>Your Listings</h3>
          <p class="form-section__description">
            Review everything you have shared with the network and update the status as deals progress.
          </p>
          <div id="agent-listings" class="listing-grid listing-grid--manage" aria-live="polite"></div>
        </div>
      </section>
    </main>

    <template id="listing-template">
      <article class="listing">
        <figure class="listing__image" hidden>
          <img src="" alt="" loading="lazy" />
        </figure>
        <div class="listing__content">
          <div class="listing__header">
            <h3 class="listing__title"></h3>
            <span class="listing__price"></span>
          </div>
          <p class="listing__meta"></p>
          <p class="listing__description"></p>
          <p class="listing__agent"></p>
          <div class="listing__contact">
            <button type="button" class="listing__contact-link btn" hidden>Message Listing Agent</button>
          </div>
        </div>
      </article>
    </template>

    <template id="agent-listing-template">
      <article class="listing listing--manage">
        <figure class="listing__image" hidden>
          <img src="" alt="" loading="lazy" />
        </figure>
        <div class="listing__content">
          <div class="listing__header">
            <h3 class="listing__title"></h3>
            <span class="listing__price"></span>
          </div>
          <p class="listing__meta"></p>
          <p class="listing__description"></p>
          <div class="listing__status-row">
            <span class="listing__status-badge" data-status></span>
            <div class="listing__status-actions">
              <button type="button" class="btn btn--small" data-status-action="active">Mark Active</button>
              <button type="button" class="btn btn--small" data-status-action="pending">Mark Under Contract</button>
              <button type="button" class="btn btn--small" data-status-action="sold">Mark Sold</button>
            </div>
          </div>
          <div class="listing__actions">
            <button type="button" class="btn btn--small" data-action="edit">Edit</button>
            <button type="button" class="btn btn--small btn--danger" data-action="delete">Delete</button>
          </div>
        </div>
      </article>
    </template>

    <div id="conversation-modal" class="conversation-modal" hidden>
      <div class="conversation-modal__backdrop" data-conversation-dismiss></div>
      <div
        class="conversation-modal__dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="conversation-modal-title"
      >
        <aside class="conversation-modal__sidebar">
          <div class="conversation-modal__sidebar-header">
            <h3>Inbox</h3>
          </div>
          <div class="conversation-modal__sidebar-body">
            <div id="conversation-modal-empty" class="conversation-modal__empty" hidden>
              No conversations yet. Reach out from a listing to start messaging.
            </div>
            <div id="conversation-modal-list" class="conversation-modal__list" role="listbox"></div>
          </div>
        </aside>
        <section class="conversation-modal__content" aria-live="polite">
          <header class="conversation__header">
            <div>
              <h4 class="conversation__title" id="conversation-modal-title">
                Message <span data-recipient></span>
              </h4>
              <p class="conversation__subtitle" data-listing-title></p>
            </div>
            <button
              type="button"
              class="conversation-modal__close"
              data-conversation-close
              aria-label="Close message window"
            >
              ×
            </button>
          </header>
          <div class="conversation-modal__body">
            <div class="conversation-modal__placeholder" data-modal-placeholder hidden>
              Select a conversation to view messages.
            </div>
            <div class="conversation__thread" aria-live="polite"></div>
          </div>
          <form class="conversation__form" data-listing-id="">
            <label class="conversation__label" for="conversation-modal-message">Message</label>
            <textarea
              id="conversation-modal-message"
              name="message"
              rows="4"
              placeholder="Ask a question or request a tour."
              required
            ></textarea>
            <p class="conversation__helper" data-compose-helper hidden>
              Choose a conversation to start messaging.
            </p>
            <div class="conversation__actions">
              <button type="submit" class="btn btn--small primary">Send Message</button>
              <button type="button" class="btn btn--small" data-conversation-close>Close</button>
            </div>
          </form>
          <p class="conversation__status" role="status" hidden></p>
        </section>
      </div>
    </div>

    <script src="app.js" type="module"></script>
  </body>
</html>
